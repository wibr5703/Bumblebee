---
title: "Lab5_Bumblebee"
author: "William Brickowski, Rachael Robinson, Manasi Raol, Brady Kiesling"
date: "2/14/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Lab 5

## Goals:

### Identify overall trends in the milk production dataset

### Hypothesize possible explanations for these trends and identify additional data sources that cound be helpful

## Team Section:

### Yearly time series for the milk production (in millions of pounds) by selected States
```{r}

```

### The year when the most milk was produced in the United States
```{r}
library(tidyverse)
milk <- read.csv('state_milk_production.csv')
milk <- milk %>%
  mutate(milk_million = milk_produced/1000000)

m_year=milk %>% group_by(year) %>% summarize(Production=sum(milk_million)) %>% arrange(desc(Production))
m_year[1,]
```
In 2017, 215466 million pounds were produced.

### The year when the least milk was produced in the United States
```{r}
library(tidyverse)
milk <- read.csv('state_milk_production.csv')
milk <- milk %>%
  mutate(milk_million = milk_produced/1000000)

l_year=milk %>% group_by(year) %>% summarize(Production=sum(milk_million)) %>% arrange(Production)
l_year[1,]
```
In 1975, 115398 pounds were produced.

### In 2017, report the 5 states that produced the most milk
```{r}
library(tidyverse)
milk <- read.csv('state_milk_production.csv')
milk <- milk %>%
  mutate(milk_million = milk_produced/1000000)

m_states=milk %>% filter(year==2017) %>% arrange(desc(milk_million))
m_states[1:5,c(2,3,5)]
```
In 2017, California produced 39,798 million pounds, Wisconsin produced 30,320 million pounds, New York produced 14,912 million pounds, Idaho produced 14,627 million pounds, and Texas produced 12,054 million pounds.

### In 2017, report the 5 states that produced the least milk
```{r}
library(tidyverse)
milk <- read.csv('state_milk_production.csv')
milk <- milk %>%
  mutate(milk_million = milk_produced/1000000)

l_states=milk %>% filter(year==2017) %>% arrange(milk_million)
l_states[1:5,c(2,3,5)]
```
In 2017, Alaska produced 3 million pounds, Rhode Island produced 13 million pounds, Hawaii produced 39 million pounds, Arkansas produced 79 million pounds, and Alabama produced 89 million pounds.

## What we found to be the most helpful in learning about this data:

### William
What I found most usefull in learning about the State Milk Production data set was the ability to use dplyr functions in conjunction with the pipe in order to gain understanding of a subset of the data with a particular function applied to it. For example, in my computation of the 5 states that produced the most amount of milk in 2017, I filtered the year to be 2017 and then used the arrange function in the descending order to determine a list of the 5 states. The summarize function was also essential when trying to determine the year when the most milk was produced in the United States. First, I grouped by year and then summmarized based on the sum of milk_million attribute of our data table. I also found the geom_density() function to be really helpful when looking at the distribution of milk production within a particular year. It paints a better picture than a histogram because the histogram is sensative to the bin size.

### Rachael

### Brady

### Manasi

## Individual Section:

### William
```{r}
library(tidyverse)
milk <- read.csv('state_milk_production.csv')
milk <- milk %>%
  mutate(milk_million = milk_produced/1000000)

#Display the distribution of the yearly milk production (in millions of pounds) for 1997
milk1997 <- milk %>%
  filter(year == 1997)

ggplot(data = milk1997, aes(x = milk_million)) +
  geom_density() + 
  ggtitle('Distribution estimate of milk produced in 1997')

#Report the average milk produced by each state
milk1997 %>%
summarize(Average = mean(milk_million))

#Report the median milk produced be each state
milk1997 %>%
summarize(Median = median(milk_million))

#Report the state that produced the most milk
most = milk1997 %>% arrange(desc(milk_million))
most[1,]

#Report the state that produced the least amount of milk
least = milk1997 %>% arrange(milk_million)
least[1,]
```
Above is a density plot of the distribution of milk produced in 1997. The average milk produced this year was 3,121.82 million pounds. The mediam milk produced this year was 1,436 million pounds. The state that produced the most milk this year was California, and they produced 27,582 million pounds. The state that produced the least amount of milk this year was Alaska, and they produced 15 million pounds.

### Rachael

### Brady

### Manasi


