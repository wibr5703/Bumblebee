---
title: "bumblebeeLab11"
author: "Manasi Raol"
date: "4/3/2019"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(babynames)
```

##Individual Plots of Your Name's popularity over time


###Rachael


```{r}
library(tidyverse)
library(babynames)
datababy <- babynames::babynames

datababy_begin <- datababy %>%
  filter(str_detect(name, "^Rac")) %>%
  group_by(year) %>%
  mutate(totalprop = sum(prop))

datababy_full <- datababy %>%
  filter(str_detect(name, "^R[aey]+ch[ae]+l$")) %>%
  group_by(year) %>%
  mutate(totalprop = sum(prop))

ggplot() +
  geom_line(data = datababy_begin, mapping = aes(x= year, y=totalprop, color = "Rac")) +
  geom_line(data = datababy_full, mapping = aes(x=year, y= totalprop, color = "Rachael/variations")) +
  labs(title = "Time series of popularity of names that start with 'Rac' and the name Rachael", x = "Year", y = "Popularity Proportion", color = "Name match")
  
```

The regular expression I used to match the variations of my name in the data set was "^R[eay]+ch[ae]+l$".

I was born in the year 1998. According to the graph, this looks like the end of the peak popularity for the name "Rachael" and it's variations. In 1998, "Rachael" and it's variations had a popularity proportion of about 0.0095. After the year 2000, the graph shows a sharp decline in the popularity of my name, approaching a popularity proportion of about 0.001. Thus, my name is significantly less popular now than it was when I was born.

The graph shows a strong relationship between names that start with "Rac" and "Rachael", indicating that it is rare for a name to start with the letters "Rac" and not end up being "Rachael" or a variation. This is corroborated by observation in the data set. Due to this relationship, names that start with "Rac" and the name "Rachael" are approximately equal in popularity now, according to the graph.


###Manasi

###Brady

###William





##Ariel and Rachel regexs

```{r}
datababy_ariel <- datababy %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$"))

datababy_ariel_73 <- datababy_ariel %>%
  filter(year == 1973)

datababy_ariel_88 <- datababy_ariel %>%
  filter(year == 1988)

datababy_ariel_90 <- datababy_ariel %>%
  filter(year == 1990)

datababy_rachel <- datababy %>%
  filter(str_detect(name, "^R[eay]+ch[ae]+l$"))

datababy_rachel_73 <- datababy_rachel %>%
  filter(year == 1973)

datababy_rachel_88 <- datababy_rachel %>%
  filter(year == 1988)

datababy_rachel_90 <- datababy_rachel %>%
  filter(year == 1990)


```

How many versions of the female name “Ariel” were there in 1973? 1988? 1990?

```{r}
print(datababy_ariel_73)
```

In this dataset, there were 2 versions of the female name Ariel in 1973.

```{r}
print(datababy_ariel_88)
```

In 1988, there were 15 variations on "Ariel" for female babies in the dataset.

```{r}
print(datababy_ariel_90)
```

By 1990 in the dataset, there are 22 recorded variations on the name "Ariel" for female babies.



How many versions for the female name “Rachel” for those years?


```{r}
print(datababy_rachel_73)
```

In 1973, there were 6 variations on "Rachel" for the female babies in the dataset.


```{r}
print(datababy_rachel_88)
```

1988 shows one more variation for the female babies named "Rachel", with 7 total variations in the dataset.

```{r}
print(datababy_rachel_90)
```

Again, 1990 shows female babies with 7 variations on the name "Rachel".




What are the chances a girl born in 1973 would be named either Rachel or Ariel (including various versions)? In 1988? In 1990? In 2017?

1973:

```{r}
datababy_73 <- datababy %>%
  filter(year == 1973) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$") | str_detect(name, "^R[eay]+ch[ae]+l$"))

view(datababy_73)

prop_73 <- sum(datababy_73$prop)

print(prop_73)
```

Thus, there is a 0.0047 chance that a baby girl born in 1973 will be named "Ariel", "Rachel", or variations.

1988:

```{r}
datababy_88 <- datababy %>%
  filter(year == 1988) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$") | str_detect(name, "^R[eay]+ch[ae]+l$"))

prop_88 <- sum(datababy_88$prop)

print(prop_88)
```

Thus, there is a 0.011 chance of female being named "Ariel", "Rachel", or their variations in 1988.

1990:

```{r}
datababy_90 <- datababy %>%
  filter(year == 1990) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$") | str_detect(name, "^R[eay]+ch[ae]+l$"))

prop_90 <- sum(datababy_90$prop)

print(prop_90)
```

Thus, there is a 0.012 chance of a girl being named "Ariel", "Rachel", or a variation on those names in 1990.

2017:

```{r}
datababy_17 <- datababy %>%
  filter(year == 2017) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$") | str_detect(name, "^R[eay]+ch[ae]+l$"))

prop_17 <- sum(datababy_17$prop)

print(prop_17)
```

Therefore, there is a 0.0026 chance of a baby girl being named "Rachel", "Ariel", or a variation in 2017.


##The Little Mermaid Effect

###Considering all the changes in female names starting with a vowel from 1988 to 1990, what percentile is the change in Ariel names?

Code


Analysis


###Graphing the change in proportion

```{r}
datababy_change_ariel <- datababy %>%
  filter(year > 1987 & year < 1991) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^A[aei]*[r]+[iael]+l[e]*$")) %>%
  group_by(year) %>%
  mutate(totalprop = sum(prop)) %>%
  filter(name == "Ariel") %>%
  mutate(totalpropstandard = totalprop*(10^4)) %>%
  mutate(logprop = log(totalpropstandard))


datababy_change <- datababy %>%
  filter(year > 1987 & year < 1991) %>%
  filter(sex == "F") %>%
  filter(str_detect(name, "^[AEIOU]")) %>%
  group_by(year) %>%
  mutate(totalprop = sum(prop)) %>%
  filter(name == "Ariel") %>%
  mutate(totalpropstandard = totalprop*(10^4)) %>%
  mutate(logprop = log(totalpropstandard))


ggplot() +
  geom_line(data = datababy_change, mapping = aes(x=year, y = logprop, color = "Vowels"), size = 2) +
  geom_line(data = datababy_change_ariel, mapping = aes(x=year, y = logprop, color = "Ariel/variations"), size = 2) +
  scale_x_continuous(breaks = c(1988,1989,1990)) +
  labs(title = "Time series of popularity of names that start with vowels and the name Ariel", subtitle = "Years are from 1988 to 1990", x = "Year", y = "Standardized Popularity", color = "Name match") +
  theme_classic()
```

Analysis


##Histograms of Team Names





##Analysis




##Who Did What

###Rachael

###Manasi

###Brady

###William